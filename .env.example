# Thewavess AI Core - 環境變數配置範例
# 複製此文件為 .env 並填入您的實際設定值

# ===========================================
# 資料庫配置 (PostgreSQL)
# ===========================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_password_here
DB_NAME=thewavess_ai_core
DB_SSLMODE=disable

# ===========================================
# AI 服務 API Keys (必填)
# ===========================================
# OpenAI 官方 API
OPENAI_API_KEY=sk-your-openai-api-key-here
# Mistral AI API (中等強度 NSFW 處理)
MISTRAL_API_KEY=your-mistral-api-key-here
# X.AI Grok API
GROK_API_KEY=your-grok-api-key-here
# TTS 專用 API Key (可選，如果不設定則使用 OPENAI_API_KEY)
TTS_API_KEY=sk-your-tts-api-key-here

# ===========================================
# 伺服器配置
# ===========================================
PORT=8080
GIN_MODE=debug
ENVIRONMENT=development
LOG_LEVEL=debug

# Swagger API 主機配置 (動態設定 API 文檔的 host)
# 開發環境: localhost:8080
# 測試環境: thewavess-ai-core.clarence.ltd
API_HOST=localhost:8080

# ===========================================
# CORS 配置 (跨域請求設定)
# ===========================================
# 允許的來源 (預設為 * 全開，生產環境請設定具體域名)
CORS_ALLOWED_ORIGINS=*
# 允許的 HTTP 方法
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,HEAD,OPTIONS
# 允許的請求標頭
CORS_ALLOWED_HEADERS=Origin,Content-Length,Content-Type,Authorization,X-Requested-With,Accept,Accept-Encoding,Accept-Language,Connection,Host,User-Agent
# 暴露的回應標頭 (可選)
CORS_EXPOSED_HEADERS=

# ===========================================
# NSFW 策略（三層 AI 引擎架構）
# ===========================================
# L1 (安全內容) → OpenAI GPT-4o (情感細膩)
# L2-L3 (中等 NSFW) → Mistral AI (專業 NSFW 處理)
# L4-L5 (明確露骨) → Grok AI (大膽創意)
# 內建智能關鍵字分級系統與 3 分鐘會話遲滯

# RAG NSFW 語料設定
NSFW_RAG_CORPUS_PATH=configs/nsfw/rag_corpus.json
NSFW_RAG_LOCALE=zh-Hant
NSFW_RAG_TOP_K=4
NSFW_RAG_LEVEL_THRESHOLDS=5:0.55,4:0.42,3:0.30,2:0.18,1:0.10
NSFW_EMBED_MODEL=text-embedding-3-small
NSFW_EMBED_TIMEOUT_MS=2000

# ===========================================
# 對話配置
# ===========================================
# OpenAI 設定（預設引擎，非露骨內容）
# OpenAI API URL (支援自定義端點)
# 標準 OpenAI: https://api.openai.com/v1
OPENAI_API_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=1200
OPENAI_TEMPERATURE=0.8

# OpenAI 進階參數（可選）
# OPENAI_SEED=42                    # 設定種子值，提高回應一致性
# OPENAI_LOGPROBS=true              # 啟用 token 機率記錄（調試用）
# OPENAI_TOP_LOGPROBS=5             # 返回前 N 個 token 機率（1-20）
# OPENAI_SERVICE_TIER=auto          # 服務層級：auto/default/flex/scale/priority

# Mistral 設定（處理中等強度 NSFW 內容）
MISTRAL_MODEL=mistral-medium-latest
MISTRAL_MAX_TOKENS=1200
MISTRAL_TEMPERATURE=0.8

# Grok 設定（處理明確露骨內容）
# Grok API URL (支援自定義端點)
# 標準 X.AI: https://api.x.ai/v1
GROK_API_URL=https://api.x.ai/v1
GROK_MODEL=grok-4-fast
GROK_MAX_TOKENS=2000
GROK_TEMPERATURE=0.9


# ===========================================
# JWT 配置 (未來使用)
# ===========================================
JWT_SECRET=your-super-secret-jwt-key-here
